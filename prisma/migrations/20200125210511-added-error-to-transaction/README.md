# Migration `20200125210511-added-error-to-transaction`

This migration has been generated by Matthias Schaider at 1/25/2020, 9:05:12 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "quaint"."Transaction" ADD COLUMN "error" TEXT    ;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200125190349-changed-proccessed-to-success..20200125210511-added-error-to-transaction
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "sqlite"
-  url = "***"
+  url      = "file:dev.db"
 }
 model User {
   id       String  @default(cuid()) @id
@@ -42,11 +42,20 @@
   amount      Float
   target      User @relation(name: "targetUser")
   source      User @relation(name: "sourceUser")
   state       TransactionState
+  error       TransactionError?
 }
 enum TransactionState {
   Pending
   Success
   Failed
+}
+
+enum TransactionError {
+  UNEXPECTED
+  TARGET_USER_NOT_HAVING_CURRENCY
+  SOURCE_USER_NOT_HAVING_CURRENCY
+  SOURCE_USER_NOT_ENOUGH_CURRENCY
+  AMOUNT_TO_LARGE
 }
```


