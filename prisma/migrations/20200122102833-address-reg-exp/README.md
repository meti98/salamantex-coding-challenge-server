# Migration `20200122102833-address-reg-exp`

This migration has been generated by Matthias Schaider at 1/22/2020, 10:28:33 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
PRAGMA foreign_keys=OFF;

CREATE TABLE "quaint"."new_Currency" (
  "addressRegExp" TEXT NOT NULL DEFAULT ''  ,
  "exchangeRateDollar" TEXT NOT NULL DEFAULT ''  ,
  "id" TEXT NOT NULL   ,
  "name" TEXT NOT NULL DEFAULT ''  ,
  PRIMARY KEY ("id")
);

INSERT INTO "new_Currency" ("exchangeRateDollar","id","name") SELECT "exchangeRateDollar","id","name" from "Currency"

DROP TABLE "quaint"."Currency";

ALTER TABLE "quaint"."new_Currency" RENAME TO "Currency";

CREATE UNIQUE INDEX "quaint"."Currency.name" ON "Currency"("name")

PRAGMA "quaint".foreign_key_check;

PRAGMA foreign_keys=ON;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200122101108-currency-address-reg-exp..20200122102833-address-reg-exp
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "sqlite"
-  url = "***"
+  url      = "file:dev.db"
 }
 model User {
   id       String  @default(cuid()) @id
@@ -20,9 +20,9 @@
 model Currency {
   id       String  @default(cuid()) @id
   name    String  @unique
   exchangeRateDollar String
-  walletIdRegExp String
+  addressRegExp String
 }
 model CurrencyAccount {
   id          String @id @default(cuid())
```


